<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vejrapp</title>
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link rel="stylesheet" href="./assets/css/pop-up.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <div class="popup" id="userSettings" role="dialog" aria-modal="true" aria-labelledby="popupTitle"
        aria-hidden="true">
        <div class="popup-content">
            <button class="close-btn" id="closePopupBtn" aria-label="Luk"> <i class="fa-solid fa-close"></i>
            </button>
            <h2 id="popupTitle">Brugerindstillinger</h2>

            <form id="settingsForm" class="settings-form">
                <div class="setting-item">
                    <label for="prefCity" class="setting-label">
                        <i class="fa-solid fa-location-dot"></i> Foretrukne by
                    </label>
                    <input id="prefCity" name="prefCity" type="text" placeholder="Søg eller vælg by …" />
                    <div class="loading" id="settingsCityLoading" hidden>
                        <i class="fas fa-spinner fa-spin"></i>
                        <span>Søger…</span>
                    </div>
                    <div class="error" id="settingsCityError" hidden>
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>Noget gik galt</span>
                    </div>
                    <div class="results" id="settingsCityResults" aria-live="polite"></div>
                </div>
                <div class="setting-item">
                    <label for="prefClothesSelect" class="setting-label">
                        <i class="fa-solid fa-shirt"></i> Foretrukne tøjkøn
                    </label>
                    <select id="prefClothesSelect" name="prefClothesSelect" required>
                        <option value="" selected disabled>Endnu ikke valgt</option>
                        <option value="male">Mand</option>
                        <option value="female">Kvinde</option>
                        <option value="neutral">Alt</option>
                    </select>
                </div>

                <!-- Tema -->
                <div class="setting-item">
                    <label for="themeSelect" class="setting-label">
                        <i class="fa-solid fa-wand-magic-sparkles"></i> Tema
                    </label>
                    <select id="themeSelect" name="themeSelect">
                        <option value="light">Lightmode</option>
                        <option value="dark">Darkmode</option>
                        <option value="system">System</option>
                    </select>
                </div>

                <!-- Notifikationer -->
                <div class="setting-item">
                    <label for="notifToggle" class="setting-label">
                        <i class="fa-solid fa-bell"></i> Notifikationer
                    </label>
                    <select id="notifToggle" name="notifToggle">
                        <option value="true">Ja</option>
                        <option value="false">Nej</option>
                    </select>
                </div>
                <div class="setting-actions">
                    <button type="submit" class="save-btn">
                        <i class="fa-solid fa-floppy-disk"></i> Gem valg
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div class="popup" id="popup" role="dialog" aria-modal="true" aria-labelledby="popupTitle" aria-hidden="true">
        <div class="popup-content">
            <button class="close-btn" id="close-popup" aria-label="Luk">✕</button>
            <h2 id="popupTitle">Vælg lokation</h2>
            <input id="search-input" type="text" placeholder="Søg efter by (fx New York)..." />
            <div class="loading" id="geo-loading" hidden>
                <i class="fas fa-spinner fa-spin"></i>
                <span>Søger…</span>
            </div>
            <div class="error" id="geo-error" hidden>
                <i class="fas fa-exclamation-triangle"></i>
                <span>Noget gik galt</span>
            </div>
            <div class="results" id="geo-results" aria-live="polite">
                <button class="result-item" data-lat="55.6761" data-lon="12.5683" data-name="København">
                    <i class="fas fa-location-dot"></i>
                    <span>København</span>
                    <small>Hovedstaden, Danmark (DK)</small>
                </button>

                <button class="result-item" data-lat="56.1629" data-lon="10.2039" data-name="Aarhus">
                    <i class="fas fa-location-dot"></i>
                    <span>Aarhus</span>
                    <small>Midtjylland, Danmark (DK)</small>
                </button>

                <button class="result-item" data-lat="55.4038" data-lon="10.4024" data-name="Odense">
                    <i class="fas fa-location-dot"></i>
                    <span>Odense</span>
                    <small>Fyn, Danmark (DK)</small>
                </button>

                <button class="result-item" data-lat="57.0488" data-lon="9.9217" data-name="Aalborg">
                    <i class="fas fa-location-dot"></i>
                    <span>Aalborg</span>
                    <small>Nordjylland, Danmark (DK)</small>
                </button>

                <button class="result-item" data-lat="55.4765" data-lon="8.4594" data-name="Esbjerg">
                    <i class="fas fa-location-dot"></i>
                    <span>Esbjerg</span>
                    <small>Syddanmark, Danmark (DK)</small>
                </button>
            </div>
        </div>
    </div>

    <section class="main">
        <div class="header">
            <div class="header-logo">
                <img src="./assets/img/moving.svg" alt="Logo" class="logo">
                <h2>Åh Vejr!</h2>
            </div>

            <div class="header-actions">
                <button id="locationBtn">
                    <i class="fa-solid fa-location-dot fa-lg"></i>
                </button>
                <button id="settingsBtn">
                    <i class="fa-solid fa-sliders fa-lg"></i>
                </button>
            </div>
        </div>



        <template id="geo-result-template">
            <button class="result-item">
                <i class="fas fa-location-dot"></i>
                <span class="result-name"></span>
                <small class="result-sub"></small>
            </button>
        </template>
        <div class="current">
            <div class="current-city">
                <h3>Århus, Danmark</h3>
                <span id="current-date">Tirsdag 4. November 2025</span>
                <script>
                    document.getElementById("current-date").textContent =
                        new Date().toLocaleDateString("da-DK", {
                            weekday: "long",
                            day: "numeric",
                            month: "long",
                            year: "numeric",
                        });
                </script>
            </div>
            <div class="current-content">
                <div class="current-icon">
                    <img src="./assets/img/sun_cloud.svg" alt="">
                </div>
                <div class="current-temp">
                    <h4>22°</h4>
                    <span>Delvist sol</span>
                </div>
            </div>
        </div>
    </section>
    <div class="tabs" role="tablist" aria-label="Forecast tabs">
        <button class="tab" role="tab" id="tab-week" aria-controls="forecast-week">Ugeoversigt</button>
        <button class="tab" role="tab" id="tab-hours" aria-controls="forecast-hours">Timeoversigt</button>
    </div>
    <section class="forecast">

        <ul class="forecast-week" role="tabpanel" id="forecast-week">
            <li class="forecast-day">
                <div class="forecast-item">
                    <span>Mandag</span>
                </div>
                <div class="forecast-item">
                    <img src="./assets/img/sun.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>22°</span>
                </div>
            </li>
            <li class="forecast-day">
                <div class="forecast-item">
                    <span>Tirsdag</span>
                </div>
                <div class="forecast-item">
                    <img src="./assets/img/sun_cloud.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>20°</span>
                </div>
            </li>
            <li class="forecast-day">
                <div class="forecast-item">
                    <span>Onsdag</span>
                </div>
                <div class="forecast-item">
                    <img src="./assets/img/sun_cloud.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>20°</span>
                </div>
            </li>
            <li class="forecast-day">
                <div class="forecast-item">
                    <span>Torsdag</span>
                </div>
                <div class="forecast-item">
                    <img src="./assets/img/rain.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>18°</span>
                </div>
            </li>
            <li class="forecast-day">
                <div class="forecast-item">
                    <span>Fredag</span>
                </div>
                <div class="forecast-item">
                    <img src="./assets/img/sun.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>25°</span>
                </div>
            </li>
            <li class="forecast-day">
                <div class="forecast-item">
                    <span>Lørdag</span>
                </div>
                <div class="forecast-item">
                    <img src="./assets/img/cloud.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>19°</span>
                </div>
            </li>
            <li class="forecast-day">
                <div class="forecast-item">
                    <span>Søndag</span>
                </div>
                <div class="forecast-item">
                    <img src="./assets/img/sun_cloud.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>21°</span>
                </div>
            </li>
        </ul>
        <ul class="forecast-hours" role="tabpanel" id="forecast-hours">
            <li class="forecast-hour">
                <div class="forecast-item">
                    <span>08:00</span>
                </div>
                <div class="forecast-icon forecast-item">
                    <img src="./assets/img/sun.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>22°</span>
                </div>
            </li>
            <li class="forecast-hour">
                <div class="forecast-item">
                    <span>09:00</span>
                </div>
                <div class="forecast-icon forecast-item">
                    <img src="./assets/img/sun.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>23°</span>
                </div>
            </li>
            <li class="forecast-hour">
                <div class="forecast-item">
                    <span>10:00</span>
                </div>
                <div class="forecast-icon forecast-item">
                    <img src="./assets/img/sun.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>24°</span>
                </div>
            </li>
            <li class="forecast-hour">
                <div class="forecast-item">
                    <span>11:00</span>
                </div>
                <div class="forecast-icon forecast-item">
                    <img src="./assets/img/sun.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>25°</span>
                </div>
            </li>
            <li class="forecast-hour">
                <div class="forecast-item">
                    <span>12:00</span>
                </div>
                <div class="forecast-icon forecast-item">
                    <img src="./assets/img/sun.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>26°</span>
                </div>
            </li>
            <li class="forecast-hour">
                <div class="forecast-item">
                    <span>13:00</span>
                </div>
                <div class="forecast-icon forecast-item">
                    <img src="./assets/img/sun.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>27°</span>
                </div>
            </li>
            <li class="forecast-hour">
                <div class="forecast-item">
                    <span>14:00</span>
                </div>
                <div class="forecast-icon forecast-item">
                    <img src="./assets/img/sun.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>27°</span>
                </div>
            </li>
            <li class="forecast-hour">
                <div class="forecast-item">
                    <span>14:00</span>
                </div>
                <div class="forecast-icon forecast-item">
                    <img src="./assets/img/sun.svg" alt="">
                </div>
                <div class="forecast-item">
                    <span>28°</span>
                </div>
            </li>
        </ul>

    </section>

</body>
<script src="./assets/js/script.js"></script>
<script src="./assets/js/meteo-handler.js"></script>
<script src="./assets/js/results-handler.js"></script>


</html>